<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.ncu.newmedia.backschool.dao.ActivityDao">
    <insert id="insertActivity" useGeneratedKeys="true" keyProperty="activity.id">
        insert into activity values (#{activity.id},#{activity.name},#{activity.applyStartTime},
                                     #{activity.applyEndTime},#{activity.feedbackStartTime},
                                     #{activity.feedbackEndTime},#{activity.creator},
                                     #{activity.createTime},#{activity.content},
                                     #{activity.filePath}
                                     );
    </insert>

    <update id="updateActivity">
        update activity set activity_name = #{activity.name},
                            apply_start_time = #{activity.applyStartTime},
                            apply_end_time = #{activity.applyEndTime},
                            feedback_start_time = #{activity.feedbackStartTime},
                            feedback_end_time = #{activity.feedbackEndTime},
                            creator = #{activity.creator},
                            create_time = #{activity.createTime},
                            content = #{activity.content},
                            activity_file_path = #{activity.filePath} where
                            activity_id = #{activity.id};
    </update>

    <select id="getCreatorById" resultType="String">
        select creator from activity where activity_id = #{id};
    </select>

</mapper>